{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  
  <meta charset="UTF-8">
  <title>{% block title %}Hotel Management{% endblock %}</title>

  <!-- Bootstrap CSS -->
   

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
   <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css">

  <link rel="stylesheet" href="{% static 'css/figma_styles.css' %}">
  

  <style>
    body {
      background: #f4f7fa;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      display: flex;
      min-height: 100vh;
      margin: 0;
    }

    /* Sidebar */
    .sidebar {
      width: 240px;
      background: #2c3e50;
      color: #ecf0f1;
      display: flex;
      flex-direction: column;
      padding: 20px 10px;
      position: fixed;
      top: 0;
      bottom: 0;
      overflow-y: auto;
    }

    .sidebar h2 {
      font-size: 20px;
      margin-bottom: 20px;
      text-align: center;
      color: #ecf0f1;
    }

    .sidebar a {
      display: block;
      color: #ecf0f1;
      text-decoration: none;
      padding: 10px 15px;
      border-radius: 6px;
      margin-bottom: 6px;
      transition: background 0.3s;
    }

    .sidebar a:hover,
    .sidebar a.active {
      background: #34495e;
    }

    .logout-btn {
      background: #e74c3c;
      border: none;
      padding: 8px;
      margin-top: auto;
      color: white;
      border-radius: 6px;
      cursor: pointer;
      width: 100%;
    }

    /* Content area */
    .content-wrapper {
      margin-left: 240px; /* Same as sidebar width */
      display: flex;
      flex-direction: column;
      flex: 1;
    }

    .content {
      flex: 1;
      margin: 20px;
      background: white;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }

    footer {
      text-align: center;
      padding: 15px;
      background: #2c3e50;
      color: #ecf0f1;
      margin-top: auto;
    }

    /* Submenu styling */
    .submenu a {
      padding-left: 30px;
      font-size: 14px;
    }
     .content-wrapper.logged-in {
    margin-left: 240px;
  }
  .content-wrapper.logged-out {
    margin-left: 0;
  }
  </style>
</head>
<body>
 {% if user.is_authenticated %}
  <!-- Sidebar -->
  <div class="sidebar">
    <h2>üè® Hotel System</h2>
    
    <a href="{% url 'hotel_dashboard' %}">Dashboard</a>
    <div class="accordion-item bg-transparent border-0">
        <h2 class="accordion-header" id="headingBreakfast">
          <button class="accordion-button collapsed bg-transparent text-white px-2" type="button" data-bs-toggle="collapse" data-bs-target="#collapseBreakfast" aria-expanded="false" aria-controls="collapseBreakfast">
              Breakfast
          </button>
        </h2>
        
        <div id="collapseBreakfast" class="accordion-collapse collapse {% if request.resolver_match.url_name in 'checkin_form breakfast_voucher_report' %}show{% endif %}" aria-labelledby="headingBreakfast" data-bs-parent="#sidebarMenu">
          <div class="accordion-body p-0 submenu">
    <a href="{% url 'checkin_form' %}">Breakfast Voucher</a>
    <a href="{% url 'breakfast_voucher_report' %}">Breakfast Voucher Report</a>
    </div>
        </div>
      </div> 
      <a href="{% url 'complaint_list' %}">Complaint</a>
    {% if is_admin_access %}
    <!-- Accordion Menu -->
    <div class="accordion" id="sidebarMenu">
      
      <!-- Master Setup Section -->
      <div class="accordion-item bg-transparent border-0">
        <h2 class="accordion-header" id="headingMasterSetup">
          <button class="accordion-button collapsed bg-transparent text-white px-2" type="button" data-bs-toggle="collapse" data-bs-target="#collapseMasterSetup" aria-expanded="false" aria-controls="collapseMasterSetup">
            ‚öôÔ∏è Master Setup
          </button>
        </h2>
        <div id="collapseMasterSetup" class="accordion-collapse collapse {% if request.resolver_match.url_name in 'master_user department_list complaint_list request_types_list user_groups' %}show{% endif %}" aria-labelledby="headingMasterSetup" data-bs-parent="#sidebarMenu">
          <div class="accordion-body p-0 submenu">
            <a href="{% url 'master_user' %}" class="{% if request.resolver_match.url_name == 'master_user' %}active{% endif %}">Master User</a>
            <a href="{% url 'department_list' %}" class="{% if request.resolver_match.url_name == 'department_list' %}active{% endif %}">Department</a>
            <a href="{% url 'complaint_list' %}" class="{% if request.resolver_match.url_name == 'complaint_list' %}active{% endif %}">Complaint</a>
            <a href="{% url 'request_types_list' %}" class="{% if request.resolver_match.url_name == 'request_types_list' %}active{% endif %}">Request Setup</a>
            <a href="{% url 'user_groups' %}" class="{% if request.resolver_match.url_name == 'user_groups' %}active{% endif %}">User Groups</a>
            <a href="{% url 'checklist_list' %}" class="{% if request.resolver_match.url_name == 'checklist_list' %}active{% endif %}">Checklists</a>
            
          </div>
        </div>
      </div>
      <!-- Member GYM Section -->
<div class="accordion-item bg-transparent border-0">
  <h2 class="accordion-header" id="headingMemberGym">
    <button class="accordion-button collapsed bg-transparent text-white px-2" type="button" 
            data-bs-toggle="collapse" 
            data-bs-target="#collapseMemberGym" 
            aria-expanded="false" 
            aria-controls="collapseMemberGym">
      üèãÔ∏è Member GYM
    </button>
  </h2>
  <div id="collapseMemberGym" 
       class="accordion-collapse collapse {% if request.resolver_match.url_name in 'member_list add_member gym_report data_checker' %}show{% endif %}" 
       aria-labelledby="headingMemberGym" 
       data-bs-parent="#sidebarMenu">
       
    <div class="accordion-body p-0 submenu">

      <a href="{% url 'add_member' %}" class="{% if request.resolver_match.url_name == 'add_member' %}active{% endif %}">New Member</a>
      <a href="{% url 'member_list' %}" class="{% if request.resolver_match.url_name == 'member_list' %}active{% endif %}">Customer</a>
      <a href="{% url 'gym_report' %}" class="{% if request.resolver_match.url_name == 'gym_report' %}active{% endif %}">Gym Report</a>
      <a href="{% url 'data_checker' %}" class="{% if request.resolver_match.url_name == 'data_checker' %}active{% endif %}">Visitor</a>
    </div>
  </div>
</div>

      <!-- Master Location Section -->
      <div class="accordion-item bg-transparent border-0">
        <h2 class="accordion-header" id="headingMasterLocation">
          <button class="accordion-button collapsed bg-transparent text-white px-2" type="button" data-bs-toggle="collapse" data-bs-target="#collapseMasterLocation" aria-expanded="false" aria-controls="collapseMasterLocation">
            üè¢ Master Location
          </button>
        </h2>
        <div id="collapseMasterLocation" class="accordion-collapse collapse {% if request.resolver_match.url_name in 'master_location locations_list' %}show{% endif %}" aria-labelledby="headingMasterLocation" data-bs-parent="#sidebarMenu">
          <div class="accordion-body p-0 submenu">
            <a href="{% url 'master_location' %}" class="{% if request.resolver_match.url_name == 'master_location' %}active{% endif %}">Master Location</a>
            <a href="{% url 'locations_list' %}" class="{% if request.resolver_match.url_name == 'locations_list' %}active{% endif %}">Location</a>
          </div>
        </div>
      </div>

    </div>
    {% endif %}

    
      <form action="{% url 'logout' %}" method="post">
        {% csrf_token %}
        <button class="logout-btn">Logout</button>
      </form>
    {% endif %}
  </div>

  <!-- Page Content -->
  <div class="content-wrapper {% if user.is_authenticated %}logged-in{% else %}logged-out{% endif %}">
    <div class="content">
      {% block content %}{% endblock %}
    </div>
    <footer>
      &copy; {{ year|default:"2025" }} Hotel Management | All Rights Reserved
    </footer>
</div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="{% static 'js/figma_scripts.js' %}"></script>
  <script src="{% static 'js/toast.js' %}"></script>
    <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.4/js/dataTables.bootstrap5.min.js"></script>
  <!-- Bootstrap Bundle with Popper (for dropdowns) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
 <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    {% block extra_js %}{% endblock %}
</body>
</html>
 